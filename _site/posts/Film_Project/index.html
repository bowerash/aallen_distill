<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
<title>Ashley Allen: Gender Inclusivity in the Film Industry</title>

<meta property="description" itemprop="description" content="An indepth look at the gender makeup of film directors over the last century"/>


<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2021-12-13"/>
<meta property="article:created" itemprop="dateCreated" content="2021-12-13"/>
<meta name="article:author" content="Ashley Allen"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="Ashley Allen: Gender Inclusivity in the Film Industry"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="An indepth look at the gender makeup of film directors over the last century"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="Ashley Allen"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary"/>
<meta property="twitter:title" content="Ashley Allen: Gender Inclusivity in the Film Industry"/>
<meta property="twitter:description" content="An indepth look at the gender makeup of film directors over the last century"/>

<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","output"]}},"value":[{"type":"character","attributes":{},"value":["Gender Inclusivity in the Film Industry"]},{"type":"character","attributes":{},"value":["An indepth look at the gender makeup of film directors over the last century"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name"]}},"value":[{"type":"character","attributes":{},"value":["Ashley Allen"]}]}]},{"type":"character","attributes":{},"value":["2021-12-13"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["code_folding","toc","highlight","self_contained","theme"]}},"value":[{"type":"logical","attributes":{},"value":[true]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["default"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["theme.css"]}]}]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["Genderize.html","Movie_Cast_Final.csv","movie_data_final.csv","Movie_Genre.csv","MovieAnalysis.html","MovieAnalysis2_files/anchor-4.2.2/anchor.min.js","MovieAnalysis2_files/bowser-1.9.3/bowser.min.js","MovieAnalysis2_files/distill-2.2.21/template.v2.js","MovieAnalysis2_files/figure-html5/Female Led Boxplot-1.png","MovieAnalysis2_files/figure-html5/Genre-1.png","MovieAnalysis2_files/figure-html5/Genre-2.png","MovieAnalysis2_files/figure-html5/Male Led Summary Stats-1.png","MovieAnalysis2_files/figure-html5/Meta-1.png","MovieAnalysis2_files/figure-html5/Ratings-1.png","MovieAnalysis2_files/figure-html5/Ratings-2.png","MovieAnalysis2_files/figure-html5/Regression-1.png","MovieAnalysis2_files/header-attrs-2.11/header-attrs.js","MovieAnalysis2_files/jquery-3.6.0/jquery-3.6.0.js","MovieAnalysis2_files/jquery-3.6.0/jquery-3.6.0.min.js","MovieAnalysis2_files/jquery-3.6.0/jquery-3.6.0.min.map","MovieAnalysis2_files/kePrint-0.0.1/kePrint.js","MovieAnalysis2_files/lightable-0.0.1/lightable.css","MovieAnalysis2_files/popper-2.6.0/popper.min.js","MovieAnalysis2_files/tippy-6.2.7/tippy-bundle.umd.min.js","MovieAnalysis2_files/tippy-6.2.7/tippy-light-border.css","MovieAnalysis2_files/tippy-6.2.7/tippy.css","MovieAnalysis2_files/tippy-6.2.7/tippy.umd.min.js","MovieAnalysis2_files/webcomponents-2.0.0/webcomponents.js","webscrape.html"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

/* adjust viewport for navbar height */
/* helps vertically center bootstrap (non-distill) content */
.min-vh-100 {
  min-height: calc(100vh - 100px) !important;
}

</style>

<script src="../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../../site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
<link href="../../site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
<script src="../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createFuseIndex() {

  // create fuse index
  var options = {
    keys: [
      { name: 'title', weight: 20 },
      { name: 'categories', weight: 15 },
      { name: 'description', weight: 10 },
      { name: 'contents', weight: 5 },
    ],
    ignoreLocation: true,
    threshold: 0
  };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
              ? `<img src="${offsetURL(suggestion.preview)}"</img>`
              : '';
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description || ''}
                </div>
                <div class="search-item-preview">
                  ${img}
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

.nav-search {
  font-size: x-small;
}

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  font-size: 1rem;
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

d-article details {
  grid-column: text;
  margin-bottom: 0.8em;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure img {
  width: 100%;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}

/* Citation hover box */

.tippy-box[data-theme~=light-border] {
  background-color: rgba(250, 250, 250, 0.95);
}

.tippy-content > p {
  margin-bottom: 0;
  padding: 2px;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('details, div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme
  $('code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // hoverable references
    $('span.citation[data-cites]').each(function() {
      var refs = $(this).attr('data-cites').split(" ");
      var refHtml = refs.map(function(ref) {
        return "<p>" + $('#ref-' + ref).html() + "</p>";
      }).join("\n");
      window.tippy(this, {
        allowHTML: true,
        content: refHtml,
        maxWidth: 500,
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start'
      });
    });

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<style type="text/css">
/* base variables */

/* Edit the CSS properties in this file to create a custom
   Distill theme. Only edit values in the right column
   for each row; values shown are the CSS defaults.
   To return any property to the default,
   you may set its value to: unset
   All rows must end with a semi-colon.                      */

/* Optional: embed custom fonts here with `@import`          */
/* This must remain at the top of this file.                 */



html {
  /*-- Main font sizes --*/
  --title-size:      50px;
  --body-size:       1.06rem;
  --code-size:       14px;
  --aside-size:      12px;
  --fig-cap-size:    13px;
  /*-- Main font colors --*/
  --title-color:     #000000;
  --header-color:    rgba(0, 0, 0, 0.8);
  --body-color:      rgba(0, 0, 0, 0.8);
  --aside-color:     rgba(0, 0, 0, 0.6);
  --fig-cap-color:   rgba(0, 0, 0, 0.6);
  /*-- Specify custom fonts ~~~ must be imported above   --*/
  --heading-font:    sans-serif;
  --mono-font:       monospace;
  --body-font:       sans-serif;
  --navbar-font:     sans-serif;  /* websites + blogs only */
}

/*-- ARTICLE METADATA --*/
d-byline {
  --heading-size:    0.6rem;
  --heading-color:   rgba(0, 0, 0, 0.5);
  --body-size:       0.8rem;
  --body-color:      rgba(0, 0, 0, 0.8);
}

/*-- ARTICLE TABLE OF CONTENTS --*/
.d-contents {
  --heading-size:    18px;
  --contents-size:   13px;
}

/*-- ARTICLE APPENDIX --*/
d-appendix {
  --heading-size:    15px;
  --heading-color:   rgba(0, 0, 0, 0.65);
  --text-size:       0.8em;
  --text-color:      rgba(0, 0, 0, 0.5);
}

/*-- WEBSITE HEADER + FOOTER --*/
/* These properties only apply to Distill sites and blogs  */

.distill-site-header {
  --title-size:       18px;
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

.distill-site-footer {
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

/*-- Additional custom styles --*/
/* Add any additional CSS rules below                      */
</style>
<style type="text/css">
/* base variables */

/* Edit the CSS properties in this file to create a custom
   Distill theme. Only edit values in the right column
   for each row; values shown are the CSS defaults.
   To return any property to the default,
   you may set its value to: unset
   All rows must end with a semi-colon.                      */

/* Optional: embed custom fonts here with `@import`          */
/* This must remain at the top of this file.                 */



html {
  /*-- Main font sizes --*/
  --title-size:      50px;
  --body-size:       1.06rem;
  --code-size:       14px;
  --aside-size:      12px;
  --fig-cap-size:    13px;
  /*-- Main font colors --*/
  --title-color:     #000000;
  --header-color:    rgba(0, 0, 0, 0.8);
  --body-color:      rgba(0, 0, 0, 0.8);
  --aside-color:     rgba(0, 0, 0, 0.6);
  --fig-cap-color:   rgba(0, 0, 0, 0.6);
  /*-- Specify custom fonts ~~~ must be imported above   --*/
  --heading-font:    sans-serif;
  --mono-font:       monospace;
  --body-font:       sans-serif;
  --navbar-font:     sans-serif;  /* websites + blogs only */
}

/*-- ARTICLE METADATA --*/
d-byline {
  --heading-size:    0.6rem;
  --heading-color:   rgba(0, 0, 0, 0.5);
  --body-size:       0.8rem;
  --body-color:      rgba(0, 0, 0, 0.8);
}

/*-- ARTICLE TABLE OF CONTENTS --*/
.d-contents {
  --heading-size:    18px;
  --contents-size:   13px;
}

/*-- ARTICLE APPENDIX --*/
d-appendix {
  --heading-size:    15px;
  --heading-color:   rgba(0, 0, 0, 0.65);
  --text-size:       0.8em;
  --text-color:      rgba(0, 0, 0, 0.5);
}

/*-- WEBSITE HEADER + FOOTER --*/
/* These properties only apply to Distill sites and blogs  */

.distill-site-header {
  --title-size:       18px;
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #600700;
}

.distill-site-footer {
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #600700;
}

/*-- Additional custom styles --*/
/* Add any additional CSS rules below                      */
</style>
<style type="text/css">
/* base style */

/* FONT FAMILIES */

:root {
  --heading-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  --mono-default: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  --body-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

body,
.posts-list .post-preview p,
.posts-list .description p {
  font-family: var(--body-font), var(--body-default);
}

h1, h2, h3, h4, h5, h6,
.posts-list .post-preview h2,
.posts-list .description h2 {
  font-family: var(--heading-font), var(--heading-default);
}

d-article div.sourceCode code,
d-article pre code {
  font-family: var(--mono-font), var(--mono-default);
}


/*-- TITLE --*/
d-title h1,
.posts-list > h1 {
  color: var(--title-color, black);
}

d-title h1 {
  font-size: var(--title-size, 50px);
}

/*-- HEADERS --*/
d-article h1,
d-article h2,
d-article h3,
d-article h4,
d-article h5,
d-article h6 {
  color: var(--header-color, rgba(0, 0, 0, 0.8));
}

/*-- BODY --*/
d-article > p,  /* only text inside of <p> tags */
d-article > ul, /* lists */
d-article > ol {
  color: var(--body-color, rgba(0, 0, 0, 0.8));
  font-size: var(--body-size, 1.06rem);
}


/*-- CODE --*/
d-article div.sourceCode code,
d-article pre code {
  font-size: var(--code-size, 14px);
}

/*-- ASIDE --*/
d-article aside {
  font-size: var(--aside-size, 12px);
  color: var(--aside-color, rgba(0, 0, 0, 0.6));
}

/*-- FIGURE CAPTIONS --*/
figure .caption,
figure figcaption,
.figure .caption {
  font-size: var(--fig-cap-size, 13px);
  color: var(--fig-cap-color, rgba(0, 0, 0, 0.6));
}

/*-- METADATA --*/
d-byline h3 {
  font-size: var(--heading-size, 0.6rem);
  color: var(--heading-color, rgba(0, 0, 0, 0.5));
}

d-byline {
  font-size: var(--body-size, 0.8rem);
  color: var(--body-color, rgba(0, 0, 0, 0.8));
}

d-byline a,
d-article d-byline a {
  color: var(--body-color, rgba(0, 0, 0, 0.8));
}

/*-- TABLE OF CONTENTS --*/
.d-contents nav h3 {
  font-size: var(--heading-size, 18px);
}

.d-contents nav a {
  font-size: var(--contents-size, 13px);
}

/*-- APPENDIX --*/
d-appendix h3 {
  font-size: var(--heading-size, 15px);
  color: var(--heading-color, rgba(0, 0, 0, 0.65));
}

d-appendix {
  font-size: var(--text-size, 0.8em);
  color: var(--text-color, rgba(0, 0, 0, 0.5));
}

d-appendix d-footnote-list a.footnote-backlink {
  color: var(--text-color, rgba(0, 0, 0, 0.5));
}

/*-- WEBSITE HEADER + FOOTER --*/
.distill-site-header .title {
  font-size: var(--title-size, 18px);
  font-family: var(--navbar-font), var(--heading-default);
}

.distill-site-header a,
.nav-dropdown .nav-dropbtn {
  font-family: var(--navbar-font), var(--heading-default);
}

.nav-dropdown .nav-dropbtn {
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  font-size: var(--text-size, 15px);
}

.distill-site-header a:hover,
.nav-dropdown:hover .nav-dropbtn {
  color: var(--hover-color, white);
}

.distill-site-header {
  font-size: var(--text-size, 15px);
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  background-color: var(--bkgd-color, #0F2E3D);
}

.distill-site-footer {
  font-size: var(--text-size, 15px);
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  background-color: var(--bkgd-color, #0F2E3D);
}

.distill-site-footer a:hover {
  color: var(--hover-color, white);
}</style>
<!--/radix_placeholder_distill-->
  <script src="../../site_libs/header-attrs-2.11/header-attrs.js"></script>
  <script src="../../site_libs/kePrint-0.0.1/kePrint.js"></script>
  <link href="../../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
  <script src="../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <script src="../../site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="../../site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="../../site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="../../site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="../../site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Gender Inclusivity in the Film Industry","description":"An indepth look at the gender makeup of film directors over the last century","authors":[{"author":"Ashley Allen","authorURL":"#","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2021-12-13T00:00:00.000+00:00","citationText":"Allen, 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a href="../../index.html" class="title">Ashley Allen</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="https://www.linkedin.com/in/bowera">
<i class="fa fa-linkedin" aria-hidden="true"></i>
</a>
<a href="https://github.com/bowerash">
<i class="fa fa-github" aria-hidden="true"></i>
</a>
<a href="../../index.html">Home</a>
<a href="../../about.html">Projects</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Gender Inclusivity in the Film Industry</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>An indepth look at the gender makeup of film directors over the last century</p></p>
</div>

<div class="d-byline">
  Ashley Allen  
  
<br/>2021-12-13
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#data-frame-creation---web-scraping">Data Frame Creation - Web Scraping</a></li>
<li><a href="#list-creation---multi-page-web-scraping">List Creation - Multi-Page Web Scraping</a></li>
<li><a href="#data-cleaning">Data Cleaning</a></li>
<li><a href="#gender-determination">Gender Determination</a></li>
<li><a href="#data-description---summary">Data Description - Summary</a>
<ul>
<li><a href="#female-directed-films">Female Directed Films</a></li>
<li><a href="#male-directed-films">Male Directed Films</a></li>
<li><a href="#genre-distribution">Genre Distribution</a></li>
<li><a href="#movie-ratings">Movie Ratings</a></li>
</ul></li>
<li><a href="#regression">Regression</a>
<ul>
<li><a href="#female-regression">Female Regression</a></li>
<li><a href="#male-regression">Male Regression</a></li>
</ul></li>
<li><a href="#conclusion">Conclusion</a></li>
</ul>
</nav>
</div>
<p>While reading a blog post shared by <a href="https://www.r-bloggers.com/2018/07/gender-diversity-in-the-film-industry/">Caroline Barret</a> on July 25, 2018 on <a href="https://www.r-bloggers.com/">R Bloggers</a> I was inspired to imitate her project and address the concern of women directors in the film industry. Like Barret, I wanted to test my R skills by creating my own dataset that would be primarily concerned with how the number of women directed films have increased throughout the years and how those movies performed in comparison to films directed by men. Additionally, I will use simple linear regression to project the likely earnings of a released in the next five years. For the purpose of this project, performance is evaluated by gross box office earnings (adjusted for inflation) and a film’s Meta Score. A Meta Score is assigned by <a href="https://www.metacritic.com/about-metascores">Metacritic</a> after it has received a minimum of fifteen review publications. A score of 81 or higher is determined to be a must-see.</p>
<h2 id="data-frame-creation---web-scraping">Data Frame Creation - Web Scraping</h2>
<p>The data frame for this project was scraped from the IMDB list <a href="https://www.imdb.com/list/ls006266261/?st_dt=&amp;mode=detail&amp;page=1&amp;ref_=ttls_vm_dtl&amp;sort=list_order,asc"><em>The 1000 Greatest Films of All Time</em></a> by gibboanx. IMDB lists are a great source of information, but are not based on any specific facts, rather, these lists are based on the opinions of the author and their contributes, so inherently, this data set was going to be biased in some form or another. This list was selected only based on sample size alone.</p>
<p>Using the <code>rvest</code> package withing R, I created an intricate for loop that would scrape multiple webpages of data. IMDB list has a maximum of 100 movies per page, and so there were a total of 10 pages that had to be scraped to generate the data frame. To do this, I had to create a flexible URL link that would adjust after every pass through a loop.</p>
<p>After the data frame was created, I wrote it to a csv file and exported to Excel for review and cleaning.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://rvest.tidyverse.org/'>rvest</a></span><span class='op'>)</span> 

<span class='va'>movies</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span><span class='op'>)</span>

<span class='kw'>for</span> <span class='op'>(</span><span class='va'>page_result</span> <span class='kw'>in</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span>from <span class='op'>=</span> <span class='fl'>1</span>, to <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>

<span class='va'>link</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='st'>"https://www.imdb.com/list/ls006266261/?st_dt=&amp;mode=detail&amp;page="</span>, <span class='va'>page_result</span>, 
<span class='st'>"&amp;ref_=ttls_vm_dtl&amp;sort=list_order,asc"</span>, sep <span class='op'>=</span><span class='st'>""</span><span class='op'>)</span>
  
<span class='va'>page</span> <span class='op'>=</span> <span class='fu'><a href='http://xml2.r-lib.org/reference/read_xml.html'>read_html</a></span><span class='op'>(</span><span class='va'>link</span><span class='op'>)</span>

<span class='va'>name</span> <span class='op'>&lt;-</span> <span class='va'>page</span> <span class='op'>%&gt;%</span> <span class='fu'>rvest</span><span class='fu'>::</span><span class='fu'><a href='https://rvest.tidyverse.org/reference/rename.html'>html_nodes</a></span><span class='op'>(</span><span class='st'>".lister-item-header a"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'>rvest</span><span class='fu'>::</span><span class='fu'><a href='https://rvest.tidyverse.org/reference/html_text.html'>html_text</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='va'>name</span> <span class='op'>&lt;-</span> <span class='va'>name</span><span class='op'>[</span><span class='op'>!</span><span class='va'>name</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>" Screen Two"</span><span class='op'>)</span><span class='op'>]</span>

<span class='va'>movie_link</span> <span class='op'>=</span> <span class='fu'><a href='https://rvest.tidyverse.org/reference/rename.html'>html_node</a></span><span class='op'>(</span><span class='fu'><a href='https://rvest.tidyverse.org/reference/rename.html'>html_nodes</a></span><span class='op'>(</span><span class='va'>page</span>, <span class='st'>'.lister-item-content'</span><span class='op'>)</span>,<span class='st'>".lister-item-header a"</span><span class='op'>)</span> <span class='op'>%&gt;%</span>  
<span class='fu'><a href='https://rvest.tidyverse.org/reference/html_attr.html'>html_attr</a></span><span class='op'>(</span><span class='st'>"href"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='st'>"https://www.imdb.com"</span>, <span class='va'>.</span>,  sep<span class='op'>=</span><span class='st'>""</span><span class='op'>)</span>
<span class='va'>movie_link2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/basename.html'>dirname</a></span><span class='op'>(</span><span class='va'>movie_link</span><span class='op'>)</span>, <span class='st'>"fullcredits"</span>, <span class='fu'>str_replace</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/basename.html'>basename</a></span><span class='op'>(</span><span class='va'>movie_link</span><span class='op'>)</span>, <span class='st'>"ttls_li_tt"</span>, <span class='st'>"tt_ql_cl"</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>year</span> <span class='op'>&lt;-</span><span class='fu'><a href='https://rvest.tidyverse.org/reference/rename.html'>html_node</a></span><span class='op'>(</span><span class='fu'><a href='https://rvest.tidyverse.org/reference/rename.html'>html_nodes</a></span><span class='op'>(</span><span class='va'>page</span>, <span class='st'>'.lister-item-content'</span><span class='op'>)</span>,<span class='st'>".text-muted.unbold"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://rvest.tidyverse.org/reference/html_text.html'>html_text</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='va'>year</span> <span class='op'>&lt;-</span> <span class='va'>year</span><span class='op'>[</span><span class='op'>!</span><span class='va'>year</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"IMDb user rating (average)"</span>,<span class='st'>"Number of votes"</span>,<span class='st'>"Release year or range"</span><span class='op'>)</span><span class='op'>]</span>

<span class='va'>rating</span> <span class='op'>&lt;-</span><span class='fu'><a href='https://rvest.tidyverse.org/reference/rename.html'>html_node</a></span><span class='op'>(</span><span class='fu'><a href='https://rvest.tidyverse.org/reference/rename.html'>html_nodes</a></span><span class='op'>(</span><span class='va'>page</span>, <span class='st'>'.lister-item-content'</span><span class='op'>)</span>,<span class='st'>".certificate"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://rvest.tidyverse.org/reference/html_text.html'>html_text</a></span><span class='op'>(</span><span class='op'>)</span>

<span class='va'>director</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rvest.tidyverse.org/reference/rename.html'>html_node</a></span><span class='op'>(</span><span class='fu'><a href='https://rvest.tidyverse.org/reference/rename.html'>html_nodes</a></span><span class='op'>(</span><span class='va'>page</span>, <span class='st'>'.lister-item-content'</span><span class='op'>)</span>,<span class='st'>".text-small a:nth-child(1)"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://rvest.tidyverse.org/reference/html_text.html'>html_text</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='co'>#Removes unwanted variables from the director vector</span>
<span class='va'>director</span> <span class='op'>&lt;-</span> <span class='va'>director</span><span class='op'>[</span><span class='op'>!</span><span class='va'>director</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"gibboanx"</span> <span class='op'>)</span><span class='op'>]</span>

<span class='va'>gross</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rvest.tidyverse.org/reference/rename.html'>html_node</a></span><span class='op'>(</span><span class='fu'><a href='https://rvest.tidyverse.org/reference/rename.html'>html_nodes</a></span><span class='op'>(</span><span class='va'>page</span>, <span class='st'>'.lister-item-content'</span><span class='op'>)</span>,<span class='st'>".ghost~ .text-muted+ span"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://rvest.tidyverse.org/reference/html_text.html'>html_text</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='co'>#Removes unwanted variables from the gross profit vector</span>
<span class='va'>gross</span> <span class='op'>&lt;-</span> <span class='va'>gross</span><span class='op'>[</span><span class='op'>!</span><span class='va'>gross</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"|"</span>  <span class='op'>)</span><span class='op'>]</span>

<span class='va'>meta</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rvest.tidyverse.org/reference/rename.html'>html_node</a></span><span class='op'>(</span><span class='fu'><a href='https://rvest.tidyverse.org/reference/rename.html'>html_nodes</a></span><span class='op'>(</span><span class='va'>page</span>, <span class='st'>'.lister-item-content'</span><span class='op'>)</span>, <span class='st'>'.ratings-metascore span'</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://rvest.tidyverse.org/reference/html_text.html'>html_text</a></span><span class='op'>(</span><span class='op'>)</span>

<span class='va'>genre</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rvest.tidyverse.org/reference/rename.html'>html_node</a></span><span class='op'>(</span><span class='fu'><a href='https://rvest.tidyverse.org/reference/rename.html'>html_nodes</a></span><span class='op'>(</span><span class='va'>page</span>, <span class='st'>'.lister-item-content'</span><span class='op'>)</span>,<span class='st'>".genre"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://rvest.tidyverse.org/reference/html_text.html'>html_text</a></span><span class='op'>(</span><span class='op'>)</span> 

<span class='co'>#Calls function to loop through the full credits URL </span>
<span class='va'>cast</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>sapply</a></span><span class='op'>(</span><span class='va'>movie_link2</span>, FUN <span class='op'>=</span> <span class='va'>get_cast</span>, USE.NAMES <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>

<span class='co'>#Binds variables into a dataframe</span>
<span class='va'>movies</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>rbind</a></span><span class='op'>(</span><span class='va'>movies</span>, <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span><span class='va'>name</span>, <span class='va'>year</span>, <span class='va'>rating</span>, <span class='va'>director</span>, <span class='va'>gross</span>, <span class='va'>meta</span>, <span class='va'>genre</span>, <span class='va'>cast</span>, stringsasfactors <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'>#Tracks the progress of the for loop</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='st'>"Page:"</span>, <span class='va'>page_result</span><span class='op'>)</span><span class='op'>)</span>  
<span class='op'>}</span>

<span class='co'>#Writes dataframe movies to a csv file</span>
<span class='fu'><a href='https://rdrr.io/r/utils/write.table.html'>write.csv</a></span><span class='op'>(</span><span class='va'>movies</span>, <span class='st'>"movies.csv"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<h1 id="list-creation---multi-page-web-scraping">List Creation - Multi-Page Web Scraping</h1>
<p>One aspect that appealed to me as I was creating this data frame were the cast and crew gender make up. This was a large part of Barret’s initial project, so I wanted to attempt to include it in my own project in some fashion.</p>
<p>To do a multi-page web scrape I would have leave the IMDB list URL and travel to another location. To create the new URL, I had to pull meta text out of the HTML code and format and entirely new hyperlink using this meta text. Added to the complication was the fact that IMDB has created a splash screen for all their movies, so rather than being taken directly to the location that could easily be scraped, I had to add another level of complexity to my function in order to reach my desired location.</p>
<p>Ultimately, I created a function that, when called within the for loop, would travel to the Cast &amp; Crew credits on IMDB and would scrape each actor, actress, and crew member associated with the movie and would create a list of all cast and crew along with the movie’s title in the list. I would later use Excel’s text-to-column feature to break this list into individual observations. Overall, I scraped nearly 68,000 individuals using this method.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>get_cast <span class="ot">=</span> <span class="cf">function</span>(movie_link2) {</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  movie_page <span class="ot">=</span> <span class="fu">read_html</span>(movie_link2)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  movie_name <span class="ot">=</span> movie_page <span class="sc">%&gt;%</span> <span class="fu">html_nodes</span>(<span class="st">&quot;.parent a&quot;</span>) <span class="sc">%&gt;%</span>  <span class="fu">html_text</span>() </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  movie_cast <span class="ot">=</span> movie_page <span class="sc">%&gt;%</span> <span class="fu">html_nodes</span>(<span class="st">&quot;.loadlate , .primary_photo+ td a&quot;</span>) <span class="sc">%&gt;%</span>  <span class="fu">html_text</span>() <span class="sc">%&gt;%</span>  <span class="fu">paste</span>(movie_name, <span class="st">&quot;-&quot;</span>, .) </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="sc">%&gt;%</span> <span class="fu">paste</span>(<span class="at">collapse =</span> <span class="st">&quot;|&quot;</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  movie_cast <span class="ot">&lt;-</span> movie_cast[<span class="sc">!</span>movie_cast <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;&quot;</span> )]</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gsub</span>(<span class="st">&#39;[</span><span class="sc">\t\n</span><span class="st">]&#39;</span>, <span class="st">&#39;&#39;</span>, movie_cast)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(movie_cast)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</details>
</div>
<h1 id="data-cleaning">Data Cleaning</h1>
<p>One of the largest hurdles of this project was not building the data frame, but rather cleaning it. Cleaning a dataset for analysis is no joke. Data scraped from the internet is rifled with unwanted characters, extra spaces, and unusable information.</p>
<p>To clean my data set I used R and Excel together to split my data frame exported from the previous step into three initial tables - Movies, Cast &amp; Crew, and Genre. Next, I proceeded to clean each set on its own, using the movie title and year released as a primary key to rejoin all the tables. Within R I removed unwanted characters and columns. Using Excel, I pivoted the information and split it into multiple columns before finally creating one main data set that was ready for analysis.</p>
<p>It was during this step that I also calculated for adjusted gross box office earnings. Using the most recent <a href="https://www.usinflationcalculator.com/inflation/consumer-price-index-and-annual-percent-changes-from-1913-to-2008/">CPI Data</a> I converted the gross earnings pulled from IMDB into today’s dollars. I will admint that I had many reservations regarding the accuracy of the IMDB data as after conversion the movie <em>Gone with the Wind</em> had a Adjust Gross of nearly $4 Billion, making it an extreme outlier among the data set. I confirmed that <a href="https://help.imdb.com/article/contribution/titles/business-imdbpro-only/GEJUWSBB6WXH3RZ6#">IMDB does not adjust for inflation</a> and the calculation I applied to do so was accurate.</p>
<p>At this point I considered selecting a new data set, however, time limitations prevented me from doing so. As you continue, please note my reservations regarding this data’s accuracy.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#Converts dataframes to tribbles</span>
<span class='fu'>as_tibble</span><span class='op'>(</span><span class='va'>movies</span><span class='op'>)</span>
<span class='fu'>as_tibble</span><span class='op'>(</span><span class='va'>cast</span><span class='op'>)</span>
<span class='fu'>as_tibble</span><span class='op'>(</span><span class='va'>genre</span><span class='op'>)</span>

<span class='co'>#Cleaned up the  column to remove extra spaces</span>
<span class='va'>string</span> <span class='op'>&lt;-</span> <span class='va'>genre</span><span class='op'>$</span><span class='va'>Genre</span>
<span class='fu'>str_squish</span><span class='op'>(</span><span class='va'>string</span><span class='op'>)</span>

<span class='va'>string</span> <span class='op'>&lt;-</span> <span class='va'>cast</span><span class='op'>$</span><span class='va'>Cast.First</span> 
<span class='fu'>str_squish</span><span class='op'>(</span><span class='va'>string</span><span class='op'>)</span>

<span class='va'>string</span> <span class='op'>&lt;-</span> <span class='va'>cast</span><span class='op'>$</span><span class='va'>Cast.Title</span>
<span class='fu'>str_squish</span><span class='op'>(</span><span class='va'>string</span><span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<h1 id="gender-determination">Gender Determination</h1>
<p>This project is interested in the genders of these individuals, and, while not perfect, R has several packages to help predict the probability of a gender for any given first name. The package ultimately selected was <a href="https://lincolnmullen.com/software/gender/">genderdata</a> written by Lincoln Mullen. The package function gender accepts two parameters, first name and year, and then can test the name again a variety of different lists to determine the probability. The list method I select was <code>ssa</code> which is the records kept by the Social Security Administration.</p>
<p>One major hurdle in the cleaning step was addressing the issue of names for directors, cast, and crew. The data exported from IMDB had several issues that set off errors and warnings within the function. Every time the function encounters a special character the loop would fail, and the error had to be corrected before it could continue. Attempts at error-catching were tried but ultimately, I had to clean the data to remove all visible special characters and then correct errors as they came up. It took the package at least two hours to fully analyze 68,000 records.</p>
<p>While this package was indeed helpful, it failed to recognize many simple names that should have been easy to identify. After completing the gender determination using the genderdata package I have over 15k unknowns. To complement this package I used Google Sheets to call the <a href="https://gender-api.com/en/excel">Gender API</a> and imported the data I returned. Using these two methods together I was able to assign a gender to most all individuals in the data set.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#Creates an empty vector</span>
<span class='va'>director_gender</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>)</span>

<span class='kw'>for</span> <span class='op'>(</span><span class='va'>i</span> <span class='kw'>in</span> <span class='fl'>1</span><span class='op'>:</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>director_first</span><span class='op'>)</span><span class='op'>-</span><span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span>
  
  <span class='va'>director_gender</span> <span class='op'>&lt;-</span> <span class='fu'>gender</span><span class='op'>(</span><span class='va'>director_first</span><span class='op'>[</span><span class='va'>i</span><span class='op'>]</span>, years <span class='op'>=</span> <span class='va'>movie_year</span><span class='op'>[</span><span class='va'>i</span><span class='op'>]</span>, method <span class='op'>=</span> <span class='st'>"ssa"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='va'>.</span><span class='op'>$</span><span class='va'>gender</span>
 
  <span class='kw'>if</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>gender_prob</span><span class='op'>)</span> <span class='op'>==</span> <span class='fl'>0</span><span class='op'>)</span> <span class='op'>{</span>
    <span class='va'>director_gender</span> <span class='op'>&lt;-</span> <span class='st'>"Unknown"</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://rdrr.io/r/base/append.html'>append</a></span><span class='op'>(</span><span class='va'>director_gender</span>,<span class='va'>.</span><span class='op'>)</span>
  <span class='op'>}</span> <span class='kw'>else</span> <span class='op'>{</span>
    <span class='va'>director_gender</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/append.html'>append</a></span><span class='op'>(</span><span class='va'>director_gender</span>,<span class='va'>gender_prob</span><span class='op'>)</span>
  <span class='op'>}</span>
  
<span class='op'>}</span>

<span class='co'>#Creates an empty vector</span>
<span class='va'>cast_gender</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>)</span>

<span class='va'>gender_test</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>name</span>,<span class='va'>year</span><span class='op'>)</span><span class='op'>{</span>
  <span class='fu'>gender</span><span class='op'>(</span><span class='va'>name</span>, years <span class='op'>=</span> <span class='va'>year</span>, method <span class='op'>=</span> <span class='st'>"ssa"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='va'>.</span><span class='op'>$</span><span class='va'>gender</span>
<span class='op'>}</span>

<span class='va'>my_possibly_test</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>name</span>,<span class='va'>year</span><span class='op'>)</span><span class='op'>{</span>
  <span class='fu'>possibly</span><span class='op'>(</span>
    <span class='fu'>gender_test</span><span class='op'>(</span><span class='va'>name</span>,<span class='va'>year</span><span class='op'>)</span>,
    otherwise <span class='op'>=</span> <span class='st'>"NA"</span>
  <span class='op'>)</span>
<span class='op'>}</span>

<span class='co'>#This portion here took a lot of work to get through. It involved a lot of testing </span>
<span class='kw'>for</span> <span class='op'>(</span><span class='va'>i</span> <span class='kw'>in</span> <span class='fl'>1</span><span class='op'>:</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>cast_first</span><span class='op'>)</span><span class='op'>-</span><span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span>
  
  <span class='va'>test_name</span> <span class='op'>=</span> <span class='va'>cast_name</span><span class='op'>[</span><span class='va'>i</span><span class='op'>]</span>
  <span class='va'>test_year</span> <span class='op'>=</span> <span class='va'>cast_year</span><span class='op'>[</span><span class='va'>i</span><span class='op'>]</span>
  
  <span class='va'>gender_prob</span> <span class='op'>&lt;-</span> <span class='fu'>my_possibly_test</span><span class='op'>(</span><span class='va'>test_name</span>,<span class='va'>test_year</span><span class='op'>)</span>
    
  <span class='kw'>if</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>gender_prob</span><span class='op'>)</span> <span class='op'>==</span> <span class='fl'>0</span><span class='op'>)</span> <span class='op'>{</span>
    <span class='va'>cast_gender</span> <span class='op'>&lt;-</span> <span class='st'>"Unknown"</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://rdrr.io/r/base/append.html'>append</a></span><span class='op'>(</span><span class='va'>cast_gender</span>,<span class='va'>.</span><span class='op'>)</span>
  <span class='op'>}</span> <span class='kw'>else</span> <span class='op'>{</span>
    <span class='va'>cast_gender</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/append.html'>append</a></span><span class='op'>(</span><span class='va'>cast_gender</span>,<span class='va'>gender_prob</span><span class='op'>)</span>
  <span class='op'>}</span>
  
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>i</span><span class='op'>)</span>
  
<span class='op'>}</span>
</code></pre>
</div>
</details>
</div>
<h1 id="data-description---summary">Data Description - Summary</h1>
<p>Finally, after all the scraping and cleaning I had a data set that I felt was fit enough to be analyzed. The initial data set included 1000 observations, however, after removing one extreme outlier and any observation with a $0 gross box office earnings, I had a data set of 936 observations.</p>
<p>One thing that I did to make the visuals more appealing was to divide the gross earnings (adjusted) by 1,000,000. This would make the numbers more manageable within the data set and more appealing in visuals.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://nickch-k.github.io/vtable/reference/sumtable.html'>st</a></span><span class='op'>(</span><span class='va'>movies</span>,title<span class='op'>=</span><span class='st'>'Summary Statistics (Entire Data Set)'</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-6">Table 1: </span>Summary Statistics (Entire Data Set)
</caption>
<thead>
<tr>
<th style="text-align:left;">
Variable
</th>
<th style="text-align:left;">
N
</th>
<th style="text-align:left;">
Mean
</th>
<th style="text-align:left;">
Std. Dev.
</th>
<th style="text-align:left;">
Min
</th>
<th style="text-align:left;">
Pctl. 25
</th>
<th style="text-align:left;">
Pctl. 75
</th>
<th style="text-align:left;">
Max
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Year
</td>
<td style="text-align:left;">
936
</td>
<td style="text-align:left;">
1997.079
</td>
<td style="text-align:left;">
15.305
</td>
<td style="text-align:left;">
1933
</td>
<td style="text-align:left;">
1989
</td>
<td style="text-align:left;">
2009
</td>
<td style="text-align:left;">
2020
</td>
</tr>
<tr>
<td style="text-align:left;">
Director.Gender
</td>
<td style="text-align:left;">
936
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
… female
</td>
<td style="text-align:left;">
47
</td>
<td style="text-align:left;">
5%
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
… male
</td>
<td style="text-align:left;">
889
</td>
<td style="text-align:left;">
95%
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
CC_Male
</td>
<td style="text-align:left;">
936
</td>
<td style="text-align:left;">
50.737
</td>
<td style="text-align:left;">
38.629
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
28
</td>
<td style="text-align:left;">
62
</td>
<td style="text-align:left;">
362
</td>
</tr>
<tr>
<td style="text-align:left;">
CC_Female
</td>
<td style="text-align:left;">
926
</td>
<td style="text-align:left;">
18.481
</td>
<td style="text-align:left;">
15.332
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
9
</td>
<td style="text-align:left;">
23
</td>
<td style="text-align:left;">
117
</td>
</tr>
<tr>
<td style="text-align:left;">
CC_Unknown
</td>
<td style="text-align:left;">
936
</td>
<td style="text-align:left;">
0.215
</td>
<td style="text-align:left;">
0.805
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
10
</td>
</tr>
<tr>
<td style="text-align:left;">
Gross
</td>
<td style="text-align:left;">
936
</td>
<td style="text-align:left;">
70.488
</td>
<td style="text-align:left;">
100.827
</td>
<td style="text-align:left;">
0.01
</td>
<td style="text-align:left;">
6.278
</td>
<td style="text-align:left;">
100.04
</td>
<td style="text-align:left;">
936.66
</td>
</tr>
<tr>
<td style="text-align:left;">
Gross_Adjusted
</td>
<td style="text-align:left;">
936
</td>
<td style="text-align:left;">
136.462
</td>
<td style="text-align:left;">
200.906
</td>
<td style="text-align:left;">
0.013
</td>
<td style="text-align:left;">
13.502
</td>
<td style="text-align:left;">
176.556
</td>
<td style="text-align:left;">
1664.473
</td>
</tr>
<tr>
<td style="text-align:left;">
Meta
</td>
<td style="text-align:left;">
924
</td>
<td style="text-align:left;">
74.073
</td>
<td style="text-align:left;">
12.216
</td>
<td style="text-align:left;">
31
</td>
<td style="text-align:left;">
66
</td>
<td style="text-align:left;">
83
</td>
<td style="text-align:left;">
100
</td>
</tr>
</tbody>
</table>
</div>
<p>After finally being able to view the data’s summary statistics it became clear how inadequate this data set was for addressing gender in the film industry. Out of 936 observations, only 47 (5%) of those observations had films led by a female. As stated before, had time allowed, I would have trashed this data set and pulled and more appropriate list, however, this is what I had to work with.</p>
<p>Seeing that males greatly outweighed female directors, I decided to split the data set in two to further analyze both genders.</p>
<h3 id="female-directed-films">Female Directed Films</h3>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://nickch-k.github.io/vtable/reference/sumtable.html'>st</a></span><span class='op'>(</span><span class='va'>movies</span>,title<span class='op'>=</span><span class='st'>'Summary Statistics'</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
(#tab:Female Led Summary Stats)Summary Statistics
</caption>
<thead>
<tr>
<th style="text-align:left;">
Variable
</th>
<th style="text-align:left;">
N
</th>
<th style="text-align:left;">
Mean
</th>
<th style="text-align:left;">
Std. Dev.
</th>
<th style="text-align:left;">
Min
</th>
<th style="text-align:left;">
Pctl. 25
</th>
<th style="text-align:left;">
Pctl. 75
</th>
<th style="text-align:left;">
Max
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Year
</td>
<td style="text-align:left;">
936
</td>
<td style="text-align:left;">
1997.079
</td>
<td style="text-align:left;">
15.305
</td>
<td style="text-align:left;">
1933
</td>
<td style="text-align:left;">
1989
</td>
<td style="text-align:left;">
2009
</td>
<td style="text-align:left;">
2020
</td>
</tr>
<tr>
<td style="text-align:left;">
Director.Gender
</td>
<td style="text-align:left;">
936
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
… female
</td>
<td style="text-align:left;">
47
</td>
<td style="text-align:left;">
5%
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
… male
</td>
<td style="text-align:left;">
889
</td>
<td style="text-align:left;">
95%
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
CC_Male
</td>
<td style="text-align:left;">
936
</td>
<td style="text-align:left;">
50.737
</td>
<td style="text-align:left;">
38.629
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
28
</td>
<td style="text-align:left;">
62
</td>
<td style="text-align:left;">
362
</td>
</tr>
<tr>
<td style="text-align:left;">
CC_Female
</td>
<td style="text-align:left;">
926
</td>
<td style="text-align:left;">
18.481
</td>
<td style="text-align:left;">
15.332
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
9
</td>
<td style="text-align:left;">
23
</td>
<td style="text-align:left;">
117
</td>
</tr>
<tr>
<td style="text-align:left;">
CC_Unknown
</td>
<td style="text-align:left;">
936
</td>
<td style="text-align:left;">
0.215
</td>
<td style="text-align:left;">
0.805
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
10
</td>
</tr>
<tr>
<td style="text-align:left;">
Gross
</td>
<td style="text-align:left;">
936
</td>
<td style="text-align:left;">
70.488
</td>
<td style="text-align:left;">
100.827
</td>
<td style="text-align:left;">
0.01
</td>
<td style="text-align:left;">
6.278
</td>
<td style="text-align:left;">
100.04
</td>
<td style="text-align:left;">
936.66
</td>
</tr>
<tr>
<td style="text-align:left;">
Gross_Adjusted
</td>
<td style="text-align:left;">
936
</td>
<td style="text-align:left;">
136.462
</td>
<td style="text-align:left;">
200.906
</td>
<td style="text-align:left;">
0.013
</td>
<td style="text-align:left;">
13.502
</td>
<td style="text-align:left;">
176.556
</td>
<td style="text-align:left;">
1664.473
</td>
</tr>
<tr>
<td style="text-align:left;">
Meta
</td>
<td style="text-align:left;">
924
</td>
<td style="text-align:left;">
74.073
</td>
<td style="text-align:left;">
12.216
</td>
<td style="text-align:left;">
31
</td>
<td style="text-align:left;">
66
</td>
<td style="text-align:left;">
83
</td>
<td style="text-align:left;">
100
</td>
</tr>
</tbody>
</table>
</div>
<p>With 47 observations, my female directors left a lot to be desired, but I worked with what I had. I found it interesting that within this list, films by female directors tended to make <em>less</em> then average. With a mean of $115M vs the group average of $136M. I was surprised when I saw that the first year with a female director was 1933, until I did further research and identified that the director, Merian C. Cooper, was a man and had been misidentified by the gender function (further enhancing my concerns with it).</p>
<p>I had originally predicted that women would tend to direct more women-led cast and crew (cc), however, I was surprised that the mean number of women cc was roughly the same as men, with a mean of 19.298 for women and 18.437 for men. One thing that did not surprise me was the men overwhelmingly dominated the industry. The average male cc was 32.3 points higher the female cc at 18.481.</p>
<p>Overall, films led by women had a very large range in Gross adjusted box office, with a range of $518.59M. Additionally, this data was heavily skewed to the right with two large outliers.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>female_led</span> <span class='op'>%&gt;%</span> <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span><span class='va'>Gross_Adjusted</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_boxplot</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>labs</span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Female Led Gross Box Office Boxplot"</span>, x <span class='op'>=</span> <span class='st'>"Adjust Gross Box Office"</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>theme_bw</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="MovieAnalysis2_files/figure-html5/Female%20Led%20Boxplot-1.png" width="624" /></p>
</div>
<h3 id="male-directed-films">Male Directed Films</h3>
<p>Files directed by men vastly outnumbers the number of films directed by females. This did not come as a surprise as the film industry has long favored men, even as it has become more inclusive in the modern century. However, with 889 observations it because clear that the films in this list were all across the board in terms of Gross Box Office and Meta Scores.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>movies</span> <span class='op'>%&gt;%</span> <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span><span class='va'>Year</span>, <span class='va'>Meta</span>, color <span class='op'>=</span> <span class='va'>Director.Gender</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_point</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>facet_wrap</span><span class='op'>(</span><span class='op'>~</span><span class='va'>Director.Gender</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>labs</span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Meta Score"</span>, x <span class='op'>=</span> <span class='st'>"Year Released"</span>, y <span class='op'>=</span> <span class='st'>"Meta Score"</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>theme_bw</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="MovieAnalysis2_files/figure-html5/Meta-1.png" width="1152" /></p>
</div>
<p>On average, male films had a slightly lower Meta score compared to females and but averaged <em>more</em> in box office earnings. Like women, cast and crew tended to be made up of more men than women and the range in box office earnings was extremely high with the lowest film earning only $13K and its highest earning over $1B.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://nickch-k.github.io/vtable/reference/sumtable.html'>st</a></span><span class='op'>(</span><span class='va'>male_led</span>,title<span class='op'>=</span><span class='st'>'Summary Statistics (Male Directed Files)'</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
(#tab:Male Led Summary Stats)Summary Statistics (Male Directed Files)
</caption>
<thead>
<tr>
<th style="text-align:left;">
Variable
</th>
<th style="text-align:left;">
N
</th>
<th style="text-align:left;">
Mean
</th>
<th style="text-align:left;">
Std. Dev.
</th>
<th style="text-align:left;">
Min
</th>
<th style="text-align:left;">
Pctl. 25
</th>
<th style="text-align:left;">
Pctl. 75
</th>
<th style="text-align:left;">
Max
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Year
</td>
<td style="text-align:left;">
889
</td>
<td style="text-align:left;">
1997.163
</td>
<td style="text-align:left;">
15.13
</td>
<td style="text-align:left;">
1939
</td>
<td style="text-align:left;">
1989
</td>
<td style="text-align:left;">
2009
</td>
<td style="text-align:left;">
2020
</td>
</tr>
<tr>
<td style="text-align:left;">
Director.Gender
</td>
<td style="text-align:left;">
889
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
… male
</td>
<td style="text-align:left;">
889
</td>
<td style="text-align:left;">
100%
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
CC_Male
</td>
<td style="text-align:left;">
889
</td>
<td style="text-align:left;">
50.594
</td>
<td style="text-align:left;">
38.108
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
28
</td>
<td style="text-align:left;">
62
</td>
<td style="text-align:left;">
362
</td>
</tr>
<tr>
<td style="text-align:left;">
CC_Female
</td>
<td style="text-align:left;">
879
</td>
<td style="text-align:left;">
18.437
</td>
<td style="text-align:left;">
15.378
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
9
</td>
<td style="text-align:left;">
23
</td>
<td style="text-align:left;">
117
</td>
</tr>
<tr>
<td style="text-align:left;">
CC_Unknown
</td>
<td style="text-align:left;">
889
</td>
<td style="text-align:left;">
0.195
</td>
<td style="text-align:left;">
0.732
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
9
</td>
</tr>
<tr>
<td style="text-align:left;">
Gross
</td>
<td style="text-align:left;">
889
</td>
<td style="text-align:left;">
71.241
</td>
<td style="text-align:left;">
102.086
</td>
<td style="text-align:left;">
0.01
</td>
<td style="text-align:left;">
6.39
</td>
<td style="text-align:left;">
100.13
</td>
<td style="text-align:left;">
936.66
</td>
</tr>
<tr>
<td style="text-align:left;">
Gross_Adjusted
</td>
<td style="text-align:left;">
889
</td>
<td style="text-align:left;">
137.572
</td>
<td style="text-align:left;">
203.177
</td>
<td style="text-align:left;">
0.013
</td>
<td style="text-align:left;">
13.97
</td>
<td style="text-align:left;">
176.534
</td>
<td style="text-align:left;">
1664.473
</td>
</tr>
<tr>
<td style="text-align:left;">
Meta
</td>
<td style="text-align:left;">
877
</td>
<td style="text-align:left;">
74.001
</td>
<td style="text-align:left;">
12.229
</td>
<td style="text-align:left;">
31
</td>
<td style="text-align:left;">
66
</td>
<td style="text-align:left;">
83
</td>
<td style="text-align:left;">
100
</td>
</tr>
</tbody>
</table>
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>male_led</span> <span class='op'>%&gt;%</span> <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span><span class='va'>Gross_Adjusted</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_boxplot</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>labs</span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Male Led Gross Box Office Boxplot"</span>, x <span class='op'>=</span> <span class='st'>"Adjust Gross Box Office"</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>theme_bw</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="MovieAnalysis2_files/figure-html5/Male%20Led%20Summary%20Stats-1.png" width="624" /></p>
</div>
<h3 id="genre-distribution">Genre Distribution</h3>
<p>Overall, it does not look like there was any distinct difference in the type of genres directed my men and women. Initially, I had predicted that women would tend towards more “girly” genres, such as romance and drama, however the distribution among the two genders seems to be equal. The only genres of note were horror which saw more male directors then females and animation, where there were no observations of female directed films.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#Creates a Female Count Set</span>

<span class='va'>female_genre1</span> <span class='op'>&lt;-</span> <span class='fu'>count</span><span class='op'>(</span><span class='va'>female_led</span>,<span class='va'>Genre_1</span><span class='op'>)</span>
<span class='va'>female_genre2</span> <span class='op'>&lt;-</span> <span class='fu'>count</span><span class='op'>(</span><span class='va'>female_led</span>,<span class='va'>Genre_2</span><span class='op'>)</span>
<span class='va'>female_genre3</span> <span class='op'>&lt;-</span> <span class='fu'>count</span><span class='op'>(</span><span class='va'>female_led</span>,<span class='va'>Genre_3</span><span class='op'>)</span>

<span class='va'>female_genre1</span> <span class='op'>&lt;-</span> <span class='va'>female_genre1</span> <span class='op'>%&gt;%</span>  <span class='fu'>rename</span><span class='op'>(</span>Genre <span class='op'>=</span> <span class='va'>Genre_1</span><span class='op'>)</span>
<span class='va'>female_genre2</span> <span class='op'>&lt;-</span> <span class='va'>female_genre2</span> <span class='op'>%&gt;%</span>  <span class='fu'>rename</span><span class='op'>(</span>Genre <span class='op'>=</span> <span class='va'>Genre_2</span><span class='op'>)</span>
<span class='va'>female_genre3</span> <span class='op'>&lt;-</span> <span class='va'>female_genre3</span> <span class='op'>%&gt;%</span>  <span class='fu'>rename</span><span class='op'>(</span>Genre <span class='op'>=</span> <span class='va'>Genre_3</span><span class='op'>)</span>


<span class='va'>genre_count</span> <span class='op'>&lt;-</span> <span class='fu'>full_join</span><span class='op'>(</span>
                <span class='va'>female_genre1</span>,
                <span class='va'>female_genre2</span>,
                by <span class='op'>=</span> <span class='st'>"Genre"</span>
<span class='op'>)</span>

<span class='va'>genre_count</span> <span class='op'>&lt;-</span> <span class='fu'>full_join</span><span class='op'>(</span>
  <span class='va'>female_genre3</span>,
  <span class='va'>genre_count</span>,
  by <span class='op'>=</span> <span class='st'>"Genre"</span>
<span class='op'>)</span>

<span class='va'>genre_count</span><span class='op'>$</span><span class='va'>Genre</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span> <span class='op'>=</span> <span class='st'>"Action"</span>

<span class='va'>genre_count</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>genre_count</span><span class='op'>)</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fl'>0</span>
<span class='va'>genre_count</span><span class='op'>$</span><span class='va'>n</span> <span class='op'>=</span> <span class='va'>genre_count</span><span class='op'>$</span><span class='va'>n.x</span> <span class='op'>+</span> <span class='va'>genre_count</span><span class='op'>$</span><span class='va'>n</span> <span class='op'>+</span> <span class='va'>genre_count</span><span class='op'>$</span><span class='va'>n.y</span>
<span class='va'>genre_count</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/subset.html'>subset</a></span><span class='op'>(</span><span class='va'>genre_count</span>, select <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>Genre</span>, <span class='va'>n</span><span class='op'>)</span><span class='op'>)</span>


<span class='co'>#Creates a Male Count Set</span>

<span class='va'>male_genre1</span> <span class='op'>&lt;-</span> <span class='fu'>count</span><span class='op'>(</span><span class='va'>male_led</span>,<span class='va'>Genre_1</span><span class='op'>)</span>
<span class='va'>male_genre2</span> <span class='op'>&lt;-</span> <span class='fu'>count</span><span class='op'>(</span><span class='va'>male_led</span>,<span class='va'>Genre_2</span><span class='op'>)</span>
<span class='va'>male_genre3</span> <span class='op'>&lt;-</span> <span class='fu'>count</span><span class='op'>(</span><span class='va'>male_led</span>,<span class='va'>Genre_3</span><span class='op'>)</span>

<span class='va'>male_genre1</span> <span class='op'>&lt;-</span> <span class='va'>male_genre1</span> <span class='op'>%&gt;%</span>  <span class='fu'>rename</span><span class='op'>(</span>Genre <span class='op'>=</span> <span class='va'>Genre_1</span><span class='op'>)</span>
<span class='va'>male_genre2</span> <span class='op'>&lt;-</span> <span class='va'>male_genre2</span> <span class='op'>%&gt;%</span>  <span class='fu'>rename</span><span class='op'>(</span>Genre <span class='op'>=</span> <span class='va'>Genre_2</span><span class='op'>)</span>
<span class='va'>male_genre3</span> <span class='op'>&lt;-</span> <span class='va'>male_genre3</span> <span class='op'>%&gt;%</span>  <span class='fu'>rename</span><span class='op'>(</span>Genre <span class='op'>=</span> <span class='va'>Genre_3</span><span class='op'>)</span>


<span class='va'>genre_count_male</span> <span class='op'>&lt;-</span> <span class='fu'>full_join</span><span class='op'>(</span>
  <span class='va'>male_genre1</span>,
  <span class='va'>male_genre2</span>,
  by <span class='op'>=</span> <span class='st'>"Genre"</span>
<span class='op'>)</span>

<span class='va'>genre_count_male</span> <span class='op'>&lt;-</span> <span class='fu'>full_join</span><span class='op'>(</span>
  <span class='va'>male_genre3</span>,
  <span class='va'>genre_count_male</span>,
  by <span class='op'>=</span> <span class='st'>"Genre"</span>
<span class='op'>)</span>

<span class='va'>genre_count_male</span><span class='op'>$</span><span class='va'>Genre</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span> <span class='op'>=</span> <span class='st'>"Action"</span>

<span class='va'>genre_count_male</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>genre_count_male</span><span class='op'>)</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fl'>0</span>
<span class='va'>genre_count_male</span><span class='op'>$</span><span class='va'>n</span> <span class='op'>=</span> <span class='va'>genre_count_male</span><span class='op'>$</span><span class='va'>n.x</span> <span class='op'>+</span> <span class='va'>genre_count_male</span><span class='op'>$</span><span class='va'>n</span> <span class='op'>+</span> <span class='va'>genre_count_male</span><span class='op'>$</span><span class='va'>n.y</span>
<span class='va'>genre_count_male</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/subset.html'>subset</a></span><span class='op'>(</span><span class='va'>genre_count_male</span>, select <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>Genre</span>, <span class='va'>n</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>genre_count_male</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/subset.html'>subset</a></span><span class='op'>(</span><span class='va'>genre_count_male</span>, <span class='va'>Genre</span> <span class='op'>!=</span> <span class='st'>"#N/A"</span><span class='op'>)</span>

<span class='va'>genre_count_male</span> <span class='op'>&lt;-</span> <span class='va'>genre_count_male</span>  <span class='op'>%&gt;%</span>  <span class='fu'>rename</span><span class='op'>(</span>male_count <span class='op'>=</span> <span class='va'>n</span><span class='op'>)</span>
<span class='va'>genre_count</span> <span class='op'>&lt;-</span> <span class='va'>genre_count</span> <span class='op'>%&gt;%</span>  <span class='fu'>rename</span><span class='op'>(</span>female_count <span class='op'>=</span> <span class='va'>n</span><span class='op'>)</span>

<span class='va'>genre_count</span> <span class='op'>&lt;-</span> <span class='fu'>left_join</span><span class='op'>(</span>
  x <span class='op'>=</span> <span class='va'>genre_count_male</span>,
  y <span class='op'>=</span> <span class='va'>genre_count</span>,
  by <span class='op'>=</span> <span class='st'>"Genre"</span>
<span class='op'>)</span>

<span class='va'>genre_count</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>genre_count</span><span class='op'>)</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fl'>0</span>

<span class='va'>genre_count</span> <span class='op'>&lt;-</span> <span class='va'>genre_count</span><span class='op'>[</span><span class='op'>-</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span><span class='op'>)</span>, <span class='op'>]</span> 

<span class='va'>genre_count</span><span class='op'>$</span><span class='va'>female_count</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span> <span class='op'>=</span> <span class='va'>genre_count</span><span class='op'>$</span><span class='va'>female_count</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span> <span class='op'>+</span> <span class='va'>genre_count</span><span class='op'>$</span><span class='va'>female_count</span><span class='op'>[</span><span class='fl'>2</span> <span class='op'>]</span>

<span class='va'>genre_count</span> <span class='op'>%&gt;%</span> <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span><span class='va'>Genre</span>,<span class='va'>female_count</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_bar</span><span class='op'>(</span>stat<span class='op'>=</span><span class='st'>'identity'</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>labs</span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Movie Genres by Female Directors"</span>, x <span class='op'>=</span> <span class='st'>"Genre"</span>, y <span class='op'>=</span> <span class='st'>"Count"</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>theme_bw</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<img src="MovieAnalysis2_files/figure-html5/Genre-1.png" width="1248" />
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>genre_count</span> <span class='op'>%&gt;%</span> <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span><span class='va'>Genre</span>,<span class='va'>male_count</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_bar</span><span class='op'>(</span>stat<span class='op'>=</span><span class='st'>'identity'</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>labs</span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Movie Genres by Male Directors"</span>, x <span class='op'>=</span> <span class='st'>"Genre"</span>, y <span class='op'>=</span> <span class='st'>"Count"</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>theme_bw</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="MovieAnalysis2_files/figure-html5/Genre-2.png" width="1248" /></p>
</div>
<h3 id="movie-ratings">Movie Ratings</h3>
<p>I was very surprised to see that, overwhelmingly, the movies filmed by women were R rated. However, this may be a characteristic of the list and the opinion of the author as males also had an extremely high R rated count. One notable difference between the two sets was that there was at least one X-rated film among the men, while there were none among the females.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>female_rating</span> <span class='op'>&lt;-</span> <span class='fu'>count</span><span class='op'>(</span><span class='va'>female_led</span>,<span class='va'>Rating</span><span class='op'>)</span>
<span class='va'>female_rating</span> <span class='op'>&lt;-</span> <span class='va'>female_rating</span> <span class='op'>%&gt;%</span>  <span class='fu'>rename</span><span class='op'>(</span>count <span class='op'>=</span> <span class='va'>n</span><span class='op'>)</span>

<span class='va'>male_rating</span> <span class='op'>&lt;-</span> <span class='fu'>count</span><span class='op'>(</span><span class='va'>male_led</span>,<span class='va'>Rating</span><span class='op'>)</span>
<span class='va'>male_rating</span> <span class='op'>&lt;-</span> <span class='va'>male_rating</span> <span class='op'>%&gt;%</span>  <span class='fu'>rename</span><span class='op'>(</span>count <span class='op'>=</span> <span class='va'>n</span><span class='op'>)</span>

<span class='va'>female_rating</span> <span class='op'>%&gt;%</span> <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span><span class='va'>Rating</span>, <span class='va'>count</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_bar</span><span class='op'>(</span>stat <span class='op'>=</span> <span class='st'>"identity"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>labs</span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Movie Ratings by Female Directors"</span>, x <span class='op'>=</span> <span class='st'>"Rating"</span>, y <span class='op'>=</span> <span class='st'>"Count"</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>theme_bw</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<img src="MovieAnalysis2_files/figure-html5/Ratings-1.png" width="624" />
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>male_rating</span> <span class='op'>%&gt;%</span> <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span><span class='va'>Rating</span>, <span class='va'>count</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_bar</span><span class='op'>(</span>stat <span class='op'>=</span> <span class='st'>"identity"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>labs</span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Movie Ratings by Male Directors"</span>, x <span class='op'>=</span> <span class='st'>"Rating"</span>, y <span class='op'>=</span> <span class='st'>"Count"</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>theme_bw</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="MovieAnalysis2_files/figure-html5/Ratings-2.png" width="624" /></p>
</div>
<h1 id="regression">Regression</h1>
<p>The main question in this project was in regard to box office earnings among men and women. I wanted to predict what the earnings would be within the next five years for either gender. To do this, I created the below scatter plot:</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>movies</span> <span class='op'>%&gt;%</span>  <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span><span class='va'>Year</span>, <span class='va'>Gross_Adjusted</span>, color <span class='op'>=</span> <span class='va'>Director.Gender</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
              <span class='fu'>geom_point</span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>2</span>, alpha <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span>
              <span class='fu'>geom_smooth</span><span class='op'>(</span>method <span class='op'>=</span> <span class='va'>lm</span>, se <span class='op'>=</span> <span class='cn'>F</span><span class='op'>)</span> <span class='op'>+</span>
              <span class='fu'>facet_wrap</span><span class='op'>(</span><span class='op'>~</span><span class='va'>Director.Gender</span><span class='op'>)</span> <span class='op'>+</span>
              <span class='fu'>labs</span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Gross Box Office"</span>, x <span class='op'>=</span> <span class='st'>"Year Released"</span>, y <span class='op'>=</span> <span class='st'>"Adjusted Box Office (Millions)"</span><span class='op'>)</span> <span class='op'>+</span>   
              <span class='fu'>theme_bw</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="MovieAnalysis2_files/figure-html5/Regression-1.png" width="1248" /></p>
</div>
<p>Using this scatter plot, I identified a negative relationship between gross box office profits and years, indicating that box office profits are going down. While this is in line with what is expected, I want to reiterate that I have reservations regarding the accuracy of this data.</p>
<p>To estimate future box office profits, I utilized a simple liner regression function with the following formula <strong>Future Box Office Earning = intercept + Year x</strong></p>
<h3 id="female-regression">Female Regression</h3>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>##Liner regression on female led movies to predict what a female director can expect to earn in 5 year from now</span>
<span class='va'>movie.regression</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span>formula <span class='op'>=</span> <span class='va'>female_led</span><span class='op'>$</span><span class='va'>Gross_Adjusted</span> <span class='op'>~</span> <span class='va'>female_led</span><span class='op'>$</span><span class='va'>Year</span>, date <span class='op'>=</span> <span class='va'>female_led</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>movie.regression</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<pre><code>
Call:
lm(formula = female_led$Gross_Adjusted ~ female_led$Year, date = female_led)

Residuals:
    Min      1Q  Median      3Q     Max 
-193.61  -87.34  -57.95   45.32  516.43 

Coefficients:
                Estimate Std. Error t value Pr(&gt;|t|)
(Intercept)     3693.898   2392.767   1.544    0.130
female_led$Year   -1.793      1.199  -1.496    0.142

Residual standard error: 149.8 on 45 degrees of freedom
Multiple R-squared:  0.04735,   Adjusted R-squared:  0.02618 
F-statistic: 2.237 on 1 and 45 DF,  p-value: 0.1417</code></pre>
</div>
<p>For females the formula to estimate gross income is y = 3693.898 - 1.793x. However, the p value for x is above the 0.05 and is not statistically significant. This is not surprising as the data shape is far from ideal and there are only 47 observations available.</p>
<h3 id="male-regression">Male Regression</h3>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>male.regression</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span>formula <span class='op'>=</span> <span class='va'>male_led</span><span class='op'>$</span><span class='va'>Gross_Adjusted</span> <span class='op'>~</span> <span class='va'>male_led</span><span class='op'>$</span><span class='va'>Year</span>, date <span class='op'>=</span> <span class='va'>male_led</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>male.regression</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<pre><code>
Call:
lm(formula = male_led$Gross_Adjusted ~ male_led$Year, date = male_led)

Residuals:
    Min      1Q  Median      3Q     Max 
-287.79 -105.90  -64.85   44.90 1370.75 

Coefficients:
               Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)   5593.0259   881.7254   6.343 3.58e-10 ***
male_led$Year   -2.7316     0.4415  -6.187 9.33e-10 ***
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 199 on 887 degrees of freedom
Multiple R-squared:  0.04138,   Adjusted R-squared:  0.04029 
F-statistic: 38.28 on 1 and 887 DF,  p-value: 9.331e-10</code></pre>
</div>
<p>For males, the line of best fit is y = 5593.0259 - 2.7316x. Unlike females, the p-value for x indicates that the year is statistically significant and therefore using the above formula to estimate that in five years’ time, a male directed film will earn $5.5B at a box office.</p>
<p>Please keep in mind, that these numbers are only a reflection of the data set, in which I have several concerns.</p>
<h1 id="conclusion">Conclusion</h1>
<p>This was a very interesting deep dive into the movie industry and the makeup of male and female directors. However, if I learned anything from this project it would have to be that the data set is everything! As expressed, several times through this document, I have deep concerns about the accuracy of this data and how it relates to each other. I would not trust the any figures associated with gross or gross adjusted box office.</p>
<p>Additionally, I have found several issues concerning the genderdata package and question the likelihood that I will ever use it again. I do not think that it performed its job well or accurately and encountered enough errors for there to be an extreme slowdown in my work progress. As I continue to hone my web scraping skills, I will also need to learn how to assess the accuracy and usability of a dataset before putting in the work and effort to build something to analyze.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
